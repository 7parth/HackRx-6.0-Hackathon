ubuntu@ip-172-31-86-127:~$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
ubuntu@ip-172-31-86-127:~$ docker logs ubuntu-api-1
INFO:     Started server process [1]
INFO:     Waiting for application startup.
2025-08-03 20:18:37,400 - App.main - INFO - Starting HackRX RAG API...
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     223.228.41.80:51279 - "GET /docs HTTP/1.1" 200 OK
INFO:     223.228.41.80:51279 - "GET /openapi.json HTTP/1.1" 200 OK
2025-08-03 20:20:37,009 - App.routers.merge - INFO - Request document URL: https://hackrx.blob.core.windows.net/assets/Arogya%20Sanjeevani%20Policy%20-%20CIN%20-%20U10200WB1906GOI001713%201.pdf?sv=2023-01-03&st=2025-07-21T08%3A29%3A02Z&se=2025-09-22T08%3A29%3A00Z&sr=b&sp=r&sig=nzrz1K9Iurt%2BBXom%2FB%2BMPTFMFP3PRnIvEsipAX10Ig4%3D
2025-08-03 20:20:39,442 - App.routers.merge - INFO - Checking document relevance for pdf file
2025-08-03 20:20:39,538 - App.routers.merge - INFO - Document metadata: {'title': 'arogya sanjeevani policy - national (asp-n)', 'subject': '', 'keywords': '', 'creator': 'microsoft® word ltsc', 'producer': 'microsoft® word ltsc', 'author': 'avishek banerjee;kartik choudhary', 'first_page_sample': ' \nnational insurance co. ltd.  \nregd. & head office: premises no. 18 -0374,  \nplot no.  cbd -81, new town, kolkata - 700156  page 1 of 16 arogya sanjeevani  policy  - national  \nuin: nichlip25041v022425  \n \nnational insurance company limited  \n     cin - u10200wb1906goi001713   irdai regn. no. - 58 \n \narogya  sanjeevani  policy  - national  \n1. preamble  \nthis policy is a contract of insurance issued by national insurance co. ltd.  (hereinafter called the ‘company’) to the proposer \nmentioned in', 'page_count': 16, 'file_type': 'pdf'}
2025-08-03 20:20:39,538 - App.routers.merge - INFO - Relevance decision: True - Reason: Relevance score: 0.062 (threshold: 0.05) - Best match: legal (3 keywords: contract, act, preamble)
2025-08-03 20:20:39,539 - App.routers.merge - INFO - Extracting text from pdf document
2025-08-03 20:20:39,566 - App.routers.merge - INFO - Processing PDF with 16 pages
2025-08-03 20:20:39,793 - App.routers.merge - INFO - Extracted 75982 characters from PDF
2025-08-03 20:20:39,793 - App.routers.merge - INFO - Document contains 75982 characters
2025-08-03 20:20:39,801 - App.routers.merge - INFO - Using performance-optimized parameters: {'chunk_size': 2750, 'chunk_overlap': 400, 'retriever_k': 10, 'estimated_pages': 48, 'has_technical_content': True}
2025-08-03 20:20:39,802 - App.routers.merge - INFO - Initializing RAG system
2025-08-03 20:20:39,871 - App.RAG.rag_llm - INFO - Initialized with fixed hybrid retrieval system
2025-08-03 20:20:39,872 - App.RAG.rag_llm - INFO - Initialized AdaptiveGeneralLLMDocumentQASystem with performance optimizations and hybrid retrieval
2025-08-03 20:20:39,872 - App.routers.merge - INFO - Loading documents into RAG system
2025-08-03 20:20:39,872 - App.RAG.rag_llm - INFO - Loading 1 documents with performance-optimized processing
2025-08-03 20:20:39,899 - App.RAG.rag_llm - INFO - Optimal parameters determined: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(4747.0), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-03 20:20:39,899 - App.RAG.rag_llm - INFO - Processing documents with performance-optimized parameters
2025-08-03 20:20:39,912 - App.RAG.rag_llm - INFO - Created 80 chunks, building vector store
2025-08-03 20:20:40,624 - faiss.loader - INFO - Loading faiss with AVX2 support.
2025-08-03 20:20:40,785 - faiss.loader - INFO - Successfully loaded faiss with AVX2 support.
2025-08-03 20:20:40,794 - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-08-03 20:20:41,388 - App.RAG.rag_llm - INFO - Building sparse (BM25) retriever
2025-08-03 20:20:41,401 - App.RAG.rag_llm - INFO - Configuring ensemble retriever with hybrid retrieval
2025-08-03 20:20:41,402 - App.RAG.rag_llm - INFO - Successfully loaded documents in 1.53 seconds with parameters: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(4747.0), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-03 20:20:41,403 - App.routers.merge - INFO - Processing 4 questions
2025-08-03 20:20:41,403 - App.RAG.rag_llm - INFO - Processing batch of 4 questions with performance optimization
2025-08-03 20:20:43,272 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "What documents are required for hospital admission for heart surgery?":', '1.  **To be admitted to the hospital for heart surgery, what paperwork and identification will I need to bring?** (Focuses on the practical aspect of bringing the documents)', '2.  **When a patient is scheduled for heart surgery, what documentation is necessary for the hospital admission process?** (More formal and focuses on the process)', "3.  **I'm having heart surgery soon. What official papers or records do I need to have ready for my hospital check-in?** (More personal and emphasizes preparation)", "4.  **For heart surgery patients, what is the hospital's required documentation list for admission?** (Direct and emphasizes the hospital's specific requirements)", '5.  **What proof of identity, medical history, or insurance coverage is needed to be admitted to the hospital for a heart surgery procedure?** (Breaks down the types of documents potentially needed)']
2025-08-03 20:20:43,306 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "When will my Rs 25,000 root canal claim be settled?":', '1.  **What is the estimated timeframe for the resolution of my Rs 25,000 claim related to my root canal procedure?** (More formal and emphasizes the estimated nature of the response)', '2.  **Can you give me an update on the status of my Rs 25,000 root canal claim and when I can expect it to be paid out?** (Focuses on the current status and payment expectation)', '3.  **I\'m inquiring about my Rs 25,000 claim for a root canal.  What\'s the expected turnaround time for settlement?** (More direct and uses the term "turnaround time")', "4.  **Do you have any information regarding the processing of my Rs 25,000 claim for my root canal? I'm particularly interested in knowing when I might receive the settlement.** (More polite and emphasizes the specific information desired)", "5.  **What's the latest on my Rs 25,000 root canal claim?  When should I anticipate receiving the funds?** (More casual and directly asks about the funds)"]
2025-08-03 20:20:43,312 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **Regarding my cataract treatment, which is estimated to cost Rs 100,000, does my insurance policy provide complete coverage for that amount?** (This is more formal and specific.)', "2.  **I'm having cataract surgery that's expected to cost Rs 100,000. Will my insurance plan pay for the entire bill?** (This is more direct and conversational.)", '3.  **My cataract treatment is going to cost Rs 100,000. Can I expect my insurance to cover that full amount, or will there be out-of-pocket expenses?** (This acknowledges the possibility of partial coverage.)', '4.  **To what extent does my insurance plan cover cataract treatment, specifically considering a procedure costing Rs 100,000?** (This is more open-ended and seeks details about coverage limits.)', '5.  **If my cataract treatment costs Rs 100,000, will my insurance policy reimburse me for the entire amount?** (This focuses on reimbursement rather than direct payment.)']
2025-08-03 20:20:43,758 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "Does my insurance policy cover the Rs 56,000 cost of IVF treatment?":', '1.  **Regarding my insurance policy, am I eligible for coverage of the Rs 56,000 IVF treatment expense?** (This version is more formal and focuses on eligibility.)', "2.  **I'm looking at undergoing IVF treatment that will cost Rs 56,000.  Will my insurance policy help cover that expense?** (This version is more conversational and emphasizes the potential expense.)", '3.  **My IVF treatment is estimated at Rs 56,000.  Can you confirm whether this cost is a covered benefit under my insurance plan?** (This version is more direct and asks for confirmation.)', '4.  **To what extent, if at all, does my insurance policy provide coverage for IVF treatment, specifically considering a cost of Rs 56,000?** (This version is more comprehensive and asks about the level of coverage.)', "5.  **I'm planning for IVF treatment, and the estimated cost is Rs 56,000.  Does my insurance policy include coverage for infertility treatments like IVF, and if so, what portion of this cost would be covered?** (This version is more detailed and asks about the general coverage of IVF and the specific amount covered.)"]
2025-08-03 20:20:54,041 - App.RAG.rag_llm - INFO - Completed batch processing of 4 questions
2025-08-03 20:20:54,042 - App.routers.merge - INFO - Successfully processed request in 17.03 seconds
INFO:     223.228.41.80:51315 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
INFO:     152.59.63.202:57919 - "GET /api/v1/hackrx/run HTTP/1.1" 405 Method Not Allowed
INFO:     152.59.63.202:57918 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     152.59.63.202:57920 - "GET /docs HTTP/1.1" 200 OK
INFO:     152.59.63.202:57921 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     223.228.47.11:50444 - "GET /docs HTTP/1.1" 200 OK
INFO:     223.228.47.11:50444 - "GET /openapi.json HTTP/1.1" 200 OK
2025-08-04 02:37:19,688 - App.routers.merge - INFO - Request document URL: https://hackrx.blob.core.windows.net/assets/Arogya%20Sanjeevani%20Policy%20-%20CIN%20-%20U10200WB1906GOI001713%201.pdf?sv=2023-01-03&st=2025-07-21T08%3A29%3A02Z&se=2025-09-22T08%3A29%3A00Z&sr=b&sp=r&sig=nzrz1K9Iurt%2BBXom%2FB%2BMPTFMFP3PRnIvEsipAX10Ig4%3D
2025-08-04 02:37:22,167 - App.routers.merge - INFO - Checking document relevance for pdf file
2025-08-04 02:37:22,257 - App.routers.merge - INFO - Document metadata: {'title': 'arogya sanjeevani policy - national (asp-n)', 'subject': '', 'keywords': '', 'creator': 'microsoft® word ltsc', 'producer': 'microsoft® word ltsc', 'author': 'avishek banerjee;kartik choudhary', 'first_page_sample': ' \nnational insurance co. ltd.  \nregd. & head office: premises no. 18 -0374,  \nplot no.  cbd -81, new town, kolkata - 700156  page 1 of 16 arogya sanjeevani  policy  - national  \nuin: nichlip25041v022425  \n \nnational insurance company limited  \n     cin - u10200wb1906goi001713   irdai regn. no. - 58 \n \narogya  sanjeevani  policy  - national  \n1. preamble  \nthis policy is a contract of insurance issued by national insurance co. ltd.  (hereinafter called the ‘company’) to the proposer \nmentioned in', 'page_count': 16, 'file_type': 'pdf'}
2025-08-04 02:37:22,257 - App.routers.merge - INFO - Relevance decision: True - Reason: Relevance score: 0.062 (threshold: 0.05) - Best match: legal (3 keywords: contract, act, preamble)
2025-08-04 02:37:22,258 - App.routers.merge - INFO - Extracting text from pdf document
2025-08-04 02:37:22,259 - App.routers.merge - INFO - Processing PDF with 16 pages
2025-08-04 02:37:22,457 - App.routers.merge - INFO - Extracted 75982 characters from PDF
2025-08-04 02:37:22,457 - App.routers.merge - INFO - Document contains 75982 characters
2025-08-04 02:37:22,465 - App.routers.merge - INFO - Using performance-optimized parameters: {'chunk_size': 2750, 'chunk_overlap': 400, 'retriever_k': 10, 'estimated_pages': 48, 'has_technical_content': True}
2025-08-04 02:37:22,465 - App.routers.merge - INFO - Initializing RAG system
2025-08-04 02:37:22,469 - App.RAG.rag_llm - INFO - Initialized with fixed hybrid retrieval system
2025-08-04 02:37:22,469 - App.RAG.rag_llm - INFO - Initialized AdaptiveGeneralLLMDocumentQASystem with performance optimizations and hybrid retrieval
2025-08-04 02:37:22,470 - App.routers.merge - INFO - Loading documents into RAG system
2025-08-04 02:37:22,470 - App.RAG.rag_llm - INFO - Loading 1 documents with performance-optimized processing
2025-08-04 02:37:22,495 - App.RAG.rag_llm - INFO - Optimal parameters determined: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(4747.0), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:37:22,495 - App.RAG.rag_llm - INFO - Processing documents with performance-optimized parameters
2025-08-04 02:37:22,508 - App.RAG.rag_llm - INFO - Created 80 chunks, building vector store
2025-08-04 02:37:23,801 - App.RAG.rag_llm - INFO - Building sparse (BM25) retriever
2025-08-04 02:37:23,813 - App.RAG.rag_llm - INFO - Configuring ensemble retriever with hybrid retrieval
2025-08-04 02:37:23,814 - App.RAG.rag_llm - INFO - Successfully loaded documents in 1.34 seconds with parameters: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(4747.0), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:37:23,814 - App.routers.merge - INFO - Processing 1 questions
2025-08-04 02:37:23,815 - App.RAG.rag_llm - INFO - Processing batch of 1 questions with performance optimization
2025-08-04 02:37:26,255 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **HDFC has approved Rs 200,000 towards my Rs 250,000 hospital bill. How do I go about claiming the remaining Rs 50,000 from you?** (Focuses on the action of claiming)', '2.  **My hospitalization expenses totaled Rs 250,000, and HDFC has sanctioned Rs 200,000. Could you please outline the procedure for filing a claim with you to cover the outstanding balance of Rs 50,000?** (More formal and detailed)', "3.  **I'm short Rs 50,000 on my hospital bill. HDFC approved Rs 200,000 of the Rs 250,000 total. What steps do I need to take to submit a claim to you for that remaining amount?** (More direct and emphasizes the shortfall)", "4.  **Given that HDFC has approved Rs 200,000 for my Rs 250,000 hospitalization, what is the claim submission process with your company for the Rs 50,000 difference?** (Focuses on the company's specific process)", '5.  **My hospital bill was Rs 250,000, and HDFC has covered Rs 200,000. What\'s the procedure for getting reimbursed the remaining Rs 50,000 from you?** (Uses the term "reimbursed" and is slightly more informal)']
2025-08-04 02:37:38,015 - App.RAG.rag_llm - INFO - Completed batch processing of 1 questions
2025-08-04 02:37:38,015 - App.routers.merge - INFO - Successfully processed request in 18.33 seconds
INFO:     223.228.47.11:50445 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-04 02:38:18,908 - App.routers.merge - INFO - Request document URL: https://hackrx.blob.core.windows.net/assets/Arogya%20Sanjeevani%20Policy%20-%20CIN%20-%20U10200WB1906GOI001713%201.pdf?sv=2023-01-03&st=2025-07-21T08%3A29%3A02Z&se=2025-09-22T08%3A29%3A00Z&sr=b&sp=r&sig=nzrz1K9Iurt%2BBXom%2FB%2BMPTFMFP3PRnIvEsipAX10Ig4%3D
2025-08-04 02:38:20,982 - App.routers.merge - INFO - Checking document relevance for pdf file
2025-08-04 02:38:21,072 - App.routers.merge - INFO - Document metadata: {'title': 'arogya sanjeevani policy - national (asp-n)', 'subject': '', 'keywords': '', 'creator': 'microsoft® word ltsc', 'producer': 'microsoft® word ltsc', 'author': 'avishek banerjee;kartik choudhary', 'first_page_sample': ' \nnational insurance co. ltd.  \nregd. & head office: premises no. 18 -0374,  \nplot no.  cbd -81, new town, kolkata - 700156  page 1 of 16 arogya sanjeevani  policy  - national  \nuin: nichlip25041v022425  \n \nnational insurance company limited  \n     cin - u10200wb1906goi001713   irdai regn. no. - 58 \n \narogya  sanjeevani  policy  - national  \n1. preamble  \nthis policy is a contract of insurance issued by national insurance co. ltd.  (hereinafter called the ‘company’) to the proposer \nmentioned in', 'page_count': 16, 'file_type': 'pdf'}
2025-08-04 02:38:21,073 - App.routers.merge - INFO - Relevance decision: True - Reason: Relevance score: 0.062 (threshold: 0.05) - Best match: legal (3 keywords: contract, act, preamble)
2025-08-04 02:38:21,073 - App.routers.merge - INFO - Extracting text from pdf document
2025-08-04 02:38:21,075 - App.routers.merge - INFO - Processing PDF with 16 pages
2025-08-04 02:38:21,274 - App.routers.merge - INFO - Extracted 75982 characters from PDF
2025-08-04 02:38:21,275 - App.routers.merge - INFO - Document contains 75982 characters
2025-08-04 02:38:21,282 - App.routers.merge - INFO - Using performance-optimized parameters: {'chunk_size': 2750, 'chunk_overlap': 400, 'retriever_k': 10, 'estimated_pages': 48, 'has_technical_content': True}
2025-08-04 02:38:21,283 - App.routers.merge - INFO - Initializing RAG system
2025-08-04 02:38:21,286 - App.RAG.rag_llm - INFO - Initialized with fixed hybrid retrieval system
2025-08-04 02:38:21,286 - App.RAG.rag_llm - INFO - Initialized AdaptiveGeneralLLMDocumentQASystem with performance optimizations and hybrid retrieval
2025-08-04 02:38:21,286 - App.routers.merge - INFO - Loading documents into RAG system
2025-08-04 02:38:21,287 - App.RAG.rag_llm - INFO - Loading 1 documents with performance-optimized processing
2025-08-04 02:38:21,312 - App.RAG.rag_llm - INFO - Optimal parameters determined: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(4747.0), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:38:21,313 - App.RAG.rag_llm - INFO - Processing documents with performance-optimized parameters
2025-08-04 02:38:21,326 - App.RAG.rag_llm - INFO - Created 80 chunks, building vector store
2025-08-04 02:38:22,391 - App.RAG.rag_llm - INFO - Building sparse (BM25) retriever
2025-08-04 02:38:22,403 - App.RAG.rag_llm - INFO - Configuring ensemble retriever with hybrid retrieval
2025-08-04 02:38:22,404 - App.RAG.rag_llm - INFO - Successfully loaded documents in 1.12 seconds with parameters: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(4747.0), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:38:22,405 - App.routers.merge - INFO - Processing 4 questions
2025-08-04 02:38:22,405 - App.RAG.rag_llm - INFO - Processing batch of 4 questions with performance optimization
2025-08-04 02:38:24,086 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **What paperwork is required for admission to the hospital for heart surgery?** (Focuses on the required paperwork in general)', "2.  **I'm scheduled for heart surgery and need to know what documents I should bring to the hospital. Can you provide a list?** (More conversational and emphasizes the user's need)", '3.  **To prepare for my upcoming heart surgery hospitalization, what documents do I need to gather and upload?** (Highlights preparation and gathering of documents)', '4.  **What are the necessary documents for a patient being admitted for heart surgery? Please provide a checklist for uploading.** (More formal and requests a checklist format)', "5.  **I'm getting ready for heart surgery and need to upload some documents. What's the required documentation for hospitalization?** (Combines the uploading aspect with the overall required documentation)"]
2025-08-04 02:38:24,400 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **Given that I underwent cataract treatment costing Rs 100,000, will you cover the entire amount of Rs 100,000?** (More formal and emphasizes coverage)', '2.  **My cataract surgery cost Rs 100,000.  Can I expect full reimbursement of that Rs 100,000?** (Focuses on reimbursement and expectation)', '3.  **The cataract treatment came to Rs 100,000.  Will you be settling the bill for the full Rs 100,000?** (More direct and uses the term "settling the bill")', "4.  **I've incurred a Rs 100,000 expense for cataract treatment.  Is the full Rs 100,000 covered under my policy/agreement?** (Highlights the expense and asks about coverage under a specific agreement)", '5.  **Regarding my Rs 100,000 cataract treatment, will you be paying the entire Rs 100,000?** (Simple and straightforward, focusing on payment)']
2025-08-04 02:38:24,645 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "I have done an IVF for Rs 56,000. Is it covered?":', '1.  **I underwent IVF treatment that cost me Rs 56,000.  Does my insurance policy cover this expense?** (More formal and emphasizes the insurance aspect)', '2.  **My IVF procedure cost Rs 56,000.  Am I eligible for any reimbursement or coverage for this amount?** (Focuses on reimbursement and eligibility)', "3.  **I paid Rs 56,000 for IVF.  Will my insurance company pay for any of it?** (More direct and focuses on the insurance company's responsibility)", "4.  **I've just had IVF, and the bill came to Rs 56,000.  Is this typically a covered expense under insurance plans?** (Asks about general coverage and implies a lack of specific knowledge)", '5.  **Rs 56,000 is what I paid for my IVF treatment.  Can I claim this amount under my insurance policy?** (Focuses on claiming the amount and directly asks about the policy)']
2025-08-04 02:38:24,678 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "When will my root canal claim of Rs 25,000 be settled?":', "1.  **What's the estimated timeline for the settlement of my Rs 25,000 claim related to my root canal procedure?** (This is more formal and asks for an estimated timeframe.)", '2.  **Could you please provide an update on the status of my Rs 25,000 root canal claim and when I can expect it to be resolved?** (This is polite and asks for both an update and a resolution timeframe.)', "3.  **I'm inquiring about my Rs 25,000 claim for a root canal.  Do you have any information on when I might receive the settlement?** (This is a direct inquiry focusing on the settlement date.)", "4.  **Regarding my root canal claim of Rs 25,000, what's the expected turnaround time for the settlement process?** (This focuses on the process and the time it takes.)", '5.  **I submitted a claim for Rs 25,000 to cover my root canal.  When should I anticipate receiving the payment?** (This is more direct and focuses on the payment itself.)']
2025-08-04 02:38:36,951 - App.RAG.rag_llm - INFO - Completed batch processing of 4 questions
2025-08-04 02:38:36,951 - App.routers.merge - INFO - Successfully processed request in 18.04 seconds
INFO:     20.244.56.156:49860 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-04 02:38:44,131 - App.routers.merge - INFO - Request document URL: https://hackrx.blob.core.windows.net/assets/Arogya%20Sanjeevani%20Policy%20-%20CIN%20-%20U10200WB1906GOI001713%201.pdf?sv=2023-01-03&st=2025-07-21T08%3A29%3A02Z&se=2025-09-22T08%3A29%3A00Z&sr=b&sp=r&sig=nzrz1K9Iurt%2BBXom%2FB%2BMPTFMFP3PRnIvEsipAX10Ig4%3D
2025-08-04 02:38:46,188 - App.routers.merge - INFO - Checking document relevance for pdf file
2025-08-04 02:38:46,279 - App.routers.merge - INFO - Document metadata: {'title': 'arogya sanjeevani policy - national (asp-n)', 'subject': '', 'keywords': '', 'creator': 'microsoft® word ltsc', 'producer': 'microsoft® word ltsc', 'author': 'avishek banerjee;kartik choudhary', 'first_page_sample': ' \nnational insurance co. ltd.  \nregd. & head office: premises no. 18 -0374,  \nplot no.  cbd -81, new town, kolkata - 700156  page 1 of 16 arogya sanjeevani  policy  - national  \nuin: nichlip25041v022425  \n \nnational insurance company limited  \n     cin - u10200wb1906goi001713   irdai regn. no. - 58 \n \narogya  sanjeevani  policy  - national  \n1. preamble  \nthis policy is a contract of insurance issued by national insurance co. ltd.  (hereinafter called the ‘company’) to the proposer \nmentioned in', 'page_count': 16, 'file_type': 'pdf'}
2025-08-04 02:38:46,279 - App.routers.merge - INFO - Relevance decision: True - Reason: Relevance score: 0.062 (threshold: 0.05) - Best match: legal (3 keywords: contract, act, preamble)
2025-08-04 02:38:46,279 - App.routers.merge - INFO - Extracting text from pdf document
2025-08-04 02:38:46,281 - App.routers.merge - INFO - Processing PDF with 16 pages
2025-08-04 02:38:46,485 - App.routers.merge - INFO - Extracted 75982 characters from PDF
2025-08-04 02:38:46,486 - App.routers.merge - INFO - Document contains 75982 characters
2025-08-04 02:38:46,494 - App.routers.merge - INFO - Using performance-optimized parameters: {'chunk_size': 2750, 'chunk_overlap': 400, 'retriever_k': 10, 'estimated_pages': 48, 'has_technical_content': True}
2025-08-04 02:38:46,494 - App.routers.merge - INFO - Initializing RAG system
2025-08-04 02:38:46,498 - App.RAG.rag_llm - INFO - Initialized with fixed hybrid retrieval system
2025-08-04 02:38:46,498 - App.RAG.rag_llm - INFO - Initialized AdaptiveGeneralLLMDocumentQASystem with performance optimizations and hybrid retrieval
2025-08-04 02:38:46,499 - App.routers.merge - INFO - Loading documents into RAG system
2025-08-04 02:38:46,499 - App.RAG.rag_llm - INFO - Loading 1 documents with performance-optimized processing
2025-08-04 02:38:46,524 - App.RAG.rag_llm - INFO - Optimal parameters determined: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(4747.0), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:38:46,524 - App.RAG.rag_llm - INFO - Processing documents with performance-optimized parameters
2025-08-04 02:38:46,537 - App.RAG.rag_llm - INFO - Created 80 chunks, building vector store
2025-08-04 02:38:47,744 - App.RAG.rag_llm - INFO - Building sparse (BM25) retriever
2025-08-04 02:38:47,756 - App.RAG.rag_llm - INFO - Configuring ensemble retriever with hybrid retrieval
2025-08-04 02:38:47,757 - App.RAG.rag_llm - INFO - Successfully loaded documents in 1.26 seconds with parameters: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(4747.0), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:38:47,759 - App.routers.merge - INFO - Processing 1 questions
2025-08-04 02:38:47,759 - App.RAG.rag_llm - INFO - Processing batch of 1 questions with performance optimization
2025-08-04 02:38:50,309 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **HDFC has approved my hospitalization claim for Rs 200,000, but my total bill came to Rs 250,000. Is it possible to submit a claim to you for the outstanding Rs 50,000?** (Focuses on the outstanding amount and possibility of submission)', '2.  **My hospitalization cost Rs 250,000. HDFC has already approved a claim for Rs 200,000. Would you be able to cover the remaining Rs 50,000?** (Directly asks if the remaining amount can be covered)', "3.  **I've incurred Rs 250,000 in hospitalization expenses. HDFC has approved a claim for Rs 200,000. What are my options for claiming the remaining Rs 50,000 through your services?** (Focuses on options and services offered)", '4.  **HDFC has approved Rs 200,000 towards my Rs 250,000 hospitalization bill. Can I file a claim with you to cover the difference of Rs 50,000?** (Uses the term "difference" and asks about filing a claim)', '5.  **My total hospitalization expenses were Rs 250,000. HDFC has approved a claim for Rs 200,000. Is it possible to get the remaining Rs 50,000 reimbursed through your company?** (Focuses on reimbursement and uses the term "company")']
2025-08-04 02:39:01,123 - App.RAG.rag_llm - INFO - Completed batch processing of 1 questions
2025-08-04 02:39:01,123 - App.routers.merge - INFO - Successfully processed request in 16.99 seconds
INFO:     20.244.56.156:36104 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-04 02:39:04,700 - App.routers.merge - INFO - Request document URL: https://hackrx.blob.core.windows.net/assets/Super_Splendor_(Feb_2023).pdf?sv=2023-01-03&st=2025-07-21T08%3A10%3A00Z&se=2025-09-22T08%3A10%3A00Z&sr=b&sp=r&sig=vhHrl63YtrEOCsAy%2BpVKr20b3ZUo5HMz1lF9%2BJh6LQ0%3D
2025-08-04 02:39:10,874 - App.routers.merge - INFO - Checking document relevance for pdf file
2025-08-04 02:39:10,922 - App.routers.merge - INFO - Document metadata: {'title': 'super splendor (aagy)-1.cdr', 'subject': '', 'keywords': '', 'creator': 'coreldraw 2018', 'producer': 'corel pdf engine version 20.1.0.708', 'author': 'beena', 'first_page_sample': 'preface\nwe at  are committed to demonstrate excellence in our environment hero motocorp ,\nperformance on a continual basis, as an intrinsic element of our corporate philosophy. to achieve this we commit ourselves to continue product innovations to improve environment compatibility, comply with all applicable legislation including environment legislation and strengthen the green supply chain.  \nyour vehicle is conforming to latest bs6 stage-vi (obd stage ii-a) regulation for emission, safety & no', 'page_count': 84, 'file_type': 'pdf'}
2025-08-04 02:39:10,923 - App.routers.merge - INFO - Relevance decision: False - Reason: Relevance score: 0.000 (threshold: 0.05) - Contains irrelevant indicators: vehicle
2025-08-04 02:39:10,923 - App.routers.merge - WARNING - Irrelevant document detected: Relevance score: 0.000 (threshold: 0.05) - Contains irrelevant indicators: vehicle
INFO:     20.244.56.156:36104 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-04 02:39:18,319 - App.routers.merge - INFO - Request document URL: https://hackrx.blob.core.windows.net/assets/Family%20Medicare%20Policy%20(UIN-%20UIIHLIP22070V042122)%201.pdf?sv=2023-01-03&st=2025-07-22T10%3A17%3A39Z&se=2025-08-23T10%3A17%3A00Z&sr=b&sp=r&sig=dA7BEMIZg3WcePcckBOb4QjfxK%2B4rIfxBs2%2F%2BNwoPjQ%3D
2025-08-04 02:39:20,519 - App.routers.merge - INFO - Checking document relevance for pdf file
2025-08-04 02:39:20,645 - App.routers.merge - INFO - Document metadata: {'title': '', 'subject': '', 'keywords': '', 'creator': '', 'producer': 'ilovepdf', 'author': '', 'first_page_sample': 'united india insurance company limited  \ncorporate identity number: u93090tn1938goi000108  \nregistered office: 24 whites road, chennai – 600014  \nirdai reg no.545  \nfamily medicare  policy  wordings  \nuin: uiihlip22070v042122  \n \n \n \nfamily medicare policy  \ni. preamble  \nthis policy is a contract of insurance issued by united india insurance company (hereinafter called \nthe company) to  the proposer mentioned in the schedule (hereinafter called the ‘insured’) to cover the \nperson(s) named in th', 'page_count': 33, 'file_type': 'pdf'}
2025-08-04 02:39:20,645 - App.routers.merge - INFO - Relevance decision: True - Reason: Relevance score: 0.083 (threshold: 0.05) - Best match: legal (4 keywords: contract, act, preamble, schedule)
2025-08-04 02:39:20,646 - App.routers.merge - INFO - Extracting text from pdf document
2025-08-04 02:39:20,647 - App.routers.merge - INFO - Processing PDF with 33 pages
2025-08-04 02:39:20,898 - App.routers.merge - INFO - Extracted 96680 characters from PDF
2025-08-04 02:39:20,899 - App.routers.merge - INFO - Document contains 96680 characters
2025-08-04 02:39:20,908 - App.routers.merge - INFO - Using performance-optimized parameters: {'chunk_size': 2750, 'chunk_overlap': 400, 'retriever_k': 10, 'estimated_pages': 60, 'has_technical_content': True}
2025-08-04 02:39:20,909 - App.routers.merge - INFO - Initializing RAG system
2025-08-04 02:39:20,913 - App.RAG.rag_llm - INFO - Initialized with fixed hybrid retrieval system
2025-08-04 02:39:20,913 - App.RAG.rag_llm - INFO - Initialized AdaptiveGeneralLLMDocumentQASystem with performance optimizations and hybrid retrieval
2025-08-04 02:39:20,914 - App.routers.merge - INFO - Loading documents into RAG system
2025-08-04 02:39:20,914 - App.RAG.rag_llm - INFO - Loading 1 documents with performance-optimized processing
2025-08-04 02:39:20,946 - App.RAG.rag_llm - INFO - Optimal parameters determined: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(2927.757575757576), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:39:20,946 - App.RAG.rag_llm - INFO - Processing documents with performance-optimized parameters
2025-08-04 02:39:20,962 - App.RAG.rag_llm - INFO - Created 100 chunks, building vector store
2025-08-04 02:39:22,309 - App.RAG.rag_llm - INFO - Building sparse (BM25) retriever
2025-08-04 02:39:22,323 - App.RAG.rag_llm - INFO - Configuring ensemble retriever with hybrid retrieval
2025-08-04 02:39:22,324 - App.RAG.rag_llm - INFO - Successfully loaded documents in 1.41 seconds with parameters: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(2927.757575757576), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:39:22,324 - App.routers.merge - INFO - Processing 3 questions
2025-08-04 02:39:22,326 - App.RAG.rag_llm - INFO - Processing batch of 3 questions with performance optimization
2025-08-04 02:39:23,736 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "Is abortion covered?":', '1.  **Does my insurance policy include abortion services?** (This is more specific and focuses on insurance coverage.)', '2.  **Are abortions a covered medical procedure under this plan?** (This is more formal and uses medical terminology.)', "3.  **Will I have to pay out-of-pocket for an abortion, or is it included in my benefits?** (This focuses on the financial implications and whether it's covered by benefits.)", '4.  **What is the coverage status of abortion procedures?** (This is a more general and neutral phrasing.)', '5.  **If I need an abortion, will my healthcare plan pay for it?** (This is a more direct and personal phrasing.)']
2025-08-04 02:39:23,924 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "Is Non-infective Arthritis covered?":', '1.  **Does my insurance policy include coverage for non-infectious arthritis?** (This is more specific and assumes the person has an insurance policy.)', '2.  **What are the coverage details for non-infective arthritis under this plan?** (This implies a specific plan is being considered and asks for more detailed information.)', "3.  **Regarding non-infective arthritis, is that a condition that's typically included in standard health insurance policies?** (This is a more general inquiry about typical coverage.)", '4.  **If I have non-infective arthritis, will my medical expenses related to it be reimbursed?** (This focuses on the financial aspect of coverage and reimbursement.)', '5.  **Is treatment for non-infective arthritis a covered benefit?** (This uses the term "covered benefit" which is common in insurance contexts.)']
2025-08-04 02:39:24,555 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **Having been a loyal customer for 6 years, and just renewing my policy yesterday, am I now eligible to file a claim for a Hydrocele procedure?** (Focuses on eligibility and the procedure itself)', "2.  **My policy was renewed yesterday, and I've been with you for 6 years. Does my current coverage extend to Hydrocele treatment, allowing me to submit a claim?** (Focuses on coverage and treatment)", "3.  **I'm a long-term customer of 6 years and just renewed my policy. If I need treatment for a Hydrocele, would I be able to make a claim under my current policy?** (More hypothetical and general)", '4.  **Given that I renewed my policy yesterday and have been a customer for 6 years, what are the chances of my Hydrocele claim being approved?** (Focuses on the likelihood of approval)', "5.  **I've been a customer for 6 years and renewed my policy yesterday. Could you please confirm whether my policy covers Hydrocele and if I can submit a claim for it?** (More direct and requests confirmation)"]
2025-08-04 02:39:33,769 - App.RAG.rag_llm - INFO - Completed batch processing of 3 questions
2025-08-04 02:39:33,769 - App.routers.merge - INFO - Successfully processed request in 15.45 seconds
INFO:     20.244.56.156:36097 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-04 02:39:39,786 - App.routers.merge - INFO - Request document URL: https://hackrx.blob.core.windows.net/assets/indian_constitution.pdf?sv=2023-01-03&st=2025-07-28T06%3A42%3A00Z&se=2026-11-29T06%3A42%3A00Z&sr=b&sp=r&sig=5Gs%2FOXqP3zY00lgciu4BZjDV5QjTDIx7fgnfdz6Pu24%3D
2025-08-04 02:39:42,853 - App.routers.merge - INFO - Checking document relevance for pdf file
2025-08-04 02:39:42,950 - App.routers.merge - INFO - Document metadata: {'title': '', 'subject': '', 'keywords': '', 'creator': '', 'producer': 'ilovepdf', 'author': '', 'first_page_sample': '£éé®ié béeé ºéæéê´évééxé \n[1, 2024 ]\nthe constitution of india\n[as on 1stmay, 2024] \n2024\ngovernment of india\nministry of law and justice\nlegislative department, official languages wing', 'page_count': 402, 'file_type': 'pdf'}
2025-08-04 02:39:42,951 - App.routers.merge - INFO - Relevance decision: True - Reason: Relevance score: 0.062 (threshold: 0.05) - Best match: legal (3 keywords: law, part, government)
2025-08-04 02:39:42,951 - App.routers.merge - INFO - Extracting text from pdf document
2025-08-04 02:39:42,952 - App.routers.merge - INFO - Processing PDF with 402 pages
2025-08-04 02:39:45,376 - App.routers.merge - INFO - Extracted 854790 characters from PDF
2025-08-04 02:39:45,377 - App.routers.merge - INFO - Document contains 854790 characters
2025-08-04 02:39:45,460 - App.routers.merge - INFO - Using performance-optimized parameters: {'chunk_size': 3300, 'chunk_overlap': 500, 'retriever_k': 12, 'estimated_pages': 557, 'has_technical_content': True}
2025-08-04 02:39:45,461 - App.routers.merge - INFO - Initializing RAG system
2025-08-04 02:39:45,464 - App.RAG.rag_llm - INFO - Initialized with fixed hybrid retrieval system
2025-08-04 02:39:45,465 - App.RAG.rag_llm - INFO - Initialized AdaptiveGeneralLLMDocumentQASystem with performance optimizations and hybrid retrieval
2025-08-04 02:39:45,465 - App.routers.merge - INFO - Loading documents into RAG system
2025-08-04 02:39:45,466 - App.RAG.rag_llm - INFO - Loading 1 documents with performance-optimized processing
2025-08-04 02:39:45,759 - App.RAG.rag_llm - INFO - Optimal parameters determined: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(2124.3482587064677), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:39:45,760 - App.RAG.rag_llm - INFO - Processing documents with performance-optimized parameters
2025-08-04 02:39:45,909 - App.RAG.rag_llm - INFO - Created 957 chunks, building vector store
2025-08-04 02:39:59,610 - App.RAG.rag_llm - INFO - Building sparse (BM25) retriever
2025-08-04 02:39:59,689 - App.RAG.rag_llm - INFO - Configuring ensemble retriever with hybrid retrieval
2025-08-04 02:39:59,690 - App.RAG.rag_llm - INFO - Successfully loaded documents in 14.22 seconds with parameters: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(2124.3482587064677), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:39:59,691 - App.routers.merge - INFO - Processing 10 questions
2025-08-04 02:39:59,691 - App.RAG.rag_llm - INFO - Processing batch of 10 questions with performance optimization
2025-08-04 02:40:01,272 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **What specific Article ensures that everyone is treated equally under the law and receives equal protection from the law?** (Focuses on the effect of the Article)', '2.  **Under which Article are all individuals guaranteed both equality before the law and equal protection of the laws?** (Direct and straightforward)', '3.  **Which Article is the cornerstone of legal equality, promising equal treatment and protection under the law to all?** (Uses more evocative language)', "4.  **If you're looking for the Article that safeguards equality before the law and equal protection of laws for every person, which one would you cite?** (More conversational and practical)", '5.  **The principle of equality before the law and equal protection of laws is enshrined in which Article?** (More formal and academic)']
2025-08-04 02:40:01,510 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **According to the first article of its Constitution, what is the formally recognized designation of the nation of India?** (Focuses on formality and nationhood)', "2.  **Article 1 of the Indian Constitution specifies the country's official title. What is that title?** (Direct and concise, emphasizing the specification)", '3.  **If you were to consult Article 1 of the Constitution of India, what name would you find listed as the official designation of the country?** (Presents a hypothetical scenario of consulting the document)', "4.  **The Constitution of India, in its opening article, defines the country's name. What is the name it uses?** (Highlights the opening nature of the article)", '5.  **What nomenclature does Article 1 of the Constitution of India prescribe for the nation?** (Uses more formal vocabulary like "nomenclature" and "prescribe")']
2025-08-04 02:40:01,662 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, "What are the key ideals mentioned in the Preamble of the Constitution of India?":', '1.  **Focusing on the core values:** What fundamental values and principles are enshrined within the Preamble of the Indian Constitution?', "2.  **Emphasizing the Preamble's role:**  The Preamble to the Indian Constitution outlines certain aspirations for the nation. What are the central goals and beliefs expressed within it?", "3.  **Highlighting the Preamble's significance:**  Often considered the soul of the Indian Constitution, the Preamble articulates a vision for the country. What are the defining ideals presented in this introductory statement?", '4.  **Using more formal language:**  Could you identify the salient ideals that are explicitly articulated in the Preamble to the Constitution of India?', "5.  **Focusing on the Preamble's purpose:** The Preamble serves as an introduction to the Indian Constitution, setting the stage for the document's contents. What are the core principles and objectives it lays out?"]
2025-08-04 02:40:01,686 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "What is abolished by Article 17 of the Constitution?", each phrased uniquely:', '1.  **Article 17 of the Constitution deals with the removal of what specific practice?** (Focuses on the action of removal and the type of thing removed)', "2.  **The Constitution's Article 17 is best known for outlawing which social ill?** (Uses more evocative language and focuses on the negative aspect of what's abolished)", '3.  **If you were to summarize the core purpose of Article 17 of the Constitution in terms of what it eliminates, what would you say?** (Asks for a summary and emphasizes the elimination aspect)', '4.  **What specific societal custom or practice does Article 17 of the Constitution render illegal?** (Uses more formal language and specifies the type of thing being abolished)', "5.  **What is the subject of Article 17 of the Constitution's prohibition?** (More concise and focuses on the subject of the prohibition)"]
2025-08-04 02:40:01,775 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **What specific Article of the Constitution empowers Parliament to modify the borders, territory, or designation of a currently established State?** (This version is more formal and emphasizes the constitutional basis.)', "2.  **If Parliament wants to redraw the map of India by changing a State's boundaries, area, or even its name, which Article provides the legal basis for them to do so?** (This version is more conversational and uses a practical example.)", "3.  **By what constitutional provision is Parliament authorized to make changes to a State's geographical limits, size, or official title?** (This version is more concise and focuses on the authorization aspect.)", '4.  **Which Article of the Indian Constitution grants Parliament the authority to adjust the territorial extent, demarcations, or nomenclature of a pre-existing State?** (This version uses more formal legal terminology.)', '5.  **To legally alter the boundaries, area, or name of a State, which Article of the Constitution must Parliament invoke?** (This version focuses on the action of invoking the Article.)']
2025-08-04 02:40:01,775 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "What is the significance of Article 21 in the Indian Constitution?", each phrased uniquely:', '1.  **Why is Article 21 considered a cornerstone of fundamental rights within the Indian Constitution?** (This focuses on its importance and foundational role.)', '2.  **In what ways does Article 21 of the Indian Constitution impact the lives and liberties of Indian citizens?** (This emphasizes the practical effects on individuals.)', '3.  **What legal and social implications arise from the guarantees enshrined in Article 21 of the Indian Constitution?** (This highlights the broader consequences and interpretations.)', '4.  **Beyond its literal wording, what is the underlying philosophy and importance of Article 21 within the framework of the Indian Constitution?** (This probes for a deeper understanding beyond the surface level.)', '5.  **How has the interpretation and application of Article 21 in the Indian Constitution evolved over time, and what impact has this had on Indian jurisprudence?** (This focuses on the historical development and its influence on legal principles.)']
2025-08-04 02:40:01,891 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **Article 24 stipulates a minimum age for children working in dangerous sectors such as factories and mines. What is that age threshold?** (Focuses on the stipulation and asks for the age.)', '2.  **What age does Article 24 set as the limit below which children are barred from employment in hazardous industries like mining and manufacturing?** (More formal and emphasizes the barring of employment.)', "3.  **Factories and mines are considered hazardous workplaces. If we look at Article 24, what's the youngest age a child can legally work in these environments?** (More conversational and focuses on the legality of child labor.)", '4.  **Under the provisions of Article 24, at what age does the prohibition of child labor in dangerous industries, such as factories and mines, take effect?** (More legalistic and emphasizes the point at which the prohibition begins.)', '5.  **If Article 24 addresses the protection of children, what is the age it specifies as the minimum for allowing work in hazardous industries like factories or mines?** (Highlights the protective aspect of the article and asks for the specified age.)']
2025-08-04 02:40:02,322 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **While Article 15 outlaws discrimination based on specific factors, what are the permissible exceptions that allow the State to create targeted provisions for particular communities?** (Focuses on exceptions and targeted provisions)', '2.  **Despite the anti-discrimination principles enshrined in Article 15, under what circumstances and for which specific groups is the government authorized to implement affirmative action or other special measures?** (Uses terms like affirmative action and special measures)', '3.  **Article 15 aims to prevent discrimination, but it also acknowledges the need for certain groups to receive focused attention. Which populations does the Constitution allow the State to prioritize through specific policies, even if those policies appear to differentiate?** (Highlights the apparent contradiction and focuses on prioritization)', "4.  **Given Article 15's commitment to equality, what are the constitutionally sanctioned carve-outs that enable the State to enact laws or policies designed to benefit specific, historically disadvantaged groups?** (Uses terms like carve-outs and historically disadvantaged groups)", '5.  **Article 15 establishes a framework against discrimination. However, the State retains the power to enact special provisions for certain groups. Which communities are eligible for these special provisions under the terms of Article 15?** (More direct and focuses on eligibility)']
2025-08-04 02:40:10,556 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **What specific Article grants Parliament the power to legislate on citizenship matters, effectively superseding the provisions outlined in Articles 5 through 10?** (Focuses on the power and its effect)', "2.  **Parliament's authority to modify or replace the citizenship rules established in Articles 5-10 stems from which particular Article?** (Focuses on the source of authority)", '3.  **If Parliament can make laws about who is a citizen, even if it changes what Articles 5 to 10 say, which Article gives them that ability?** (More conversational and emphasizes the potential for change)', '4.  **Under which Article does Parliament possess the legislative competence to regulate citizenship, thereby taking precedence over the stipulations of Articles 5 through 10?** (More formal and uses legal terminology)', "5.  **To what Article must we refer to understand Parliament's power to legislate on citizenship, a power that can override the provisions detailed in Articles 5-10?** (Focuses on where to find the relevant information)"]
2025-08-04 02:40:11,061 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **Under what circumstances, as defined by Article 19(2), is the State permitted to limit or curtail the fundamental right to freedom of speech?** (Focuses on the circumstances and uses more formal language)', '2.  **Article 19(2) allows for certain limitations on free speech. What are the specific grounds upon which the government can legally restrict this right?** (Highlights the legal grounds for restriction)', '3.  **Considering the provisions of Article 19(2), what are the permissible boundaries that the State can establish regarding the exercise of freedom of speech?** (Emphasizes the boundaries and permissible limits)', '4.  **What are the constitutionally sanctioned exceptions, as outlined in Article 19(2), to the general guarantee of freedom of speech, allowing the State to impose restrictions?** (Focuses on exceptions and constitutionality)', "5.  **How does Article 19(2) delineate the State's power to regulate or constrain the right to freedom of speech? What specific limitations are authorized?** (Explores the State's power and asks for specific limitations)"]
2025-08-04 02:40:21,612 - App.RAG.rag_llm - INFO - Completed batch processing of 10 questions
2025-08-04 02:40:21,612 - App.routers.merge - INFO - Successfully processed request in 41.83 seconds
INFO:     20.244.56.156:36098 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-04 02:40:34,236 - App.routers.merge - INFO - Request document URL: https://hackrx.blob.core.windows.net/assets/indian_constitution.pdf?sv=2023-01-03&st=2025-07-28T06%3A42%3A00Z&se=2026-11-29T06%3A42%3A00Z&sr=b&sp=r&sig=5Gs%2FOXqP3zY00lgciu4BZjDV5QjTDIx7fgnfdz6Pu24%3D
2025-08-04 02:40:37,553 - App.routers.merge - INFO - Checking document relevance for pdf file
2025-08-04 02:40:37,728 - App.routers.merge - INFO - Document metadata: {'title': '', 'subject': '', 'keywords': '', 'creator': '', 'producer': 'ilovepdf', 'author': '', 'first_page_sample': '£éé®ié béeé ºéæéê´évééxé \n[1, 2024 ]\nthe constitution of india\n[as on 1stmay, 2024] \n2024\ngovernment of india\nministry of law and justice\nlegislative department, official languages wing', 'page_count': 402, 'file_type': 'pdf'}
2025-08-04 02:40:37,729 - App.routers.merge - INFO - Relevance decision: True - Reason: Relevance score: 0.062 (threshold: 0.05) - Best match: legal (3 keywords: law, part, government)
2025-08-04 02:40:37,729 - App.routers.merge - INFO - Extracting text from pdf document
2025-08-04 02:40:37,730 - App.routers.merge - INFO - Processing PDF with 402 pages
2025-08-04 02:40:40,127 - App.routers.merge - INFO - Extracted 854790 characters from PDF
2025-08-04 02:40:40,128 - App.routers.merge - INFO - Document contains 854790 characters
2025-08-04 02:40:40,207 - App.routers.merge - INFO - Using performance-optimized parameters: {'chunk_size': 3300, 'chunk_overlap': 500, 'retriever_k': 12, 'estimated_pages': 557, 'has_technical_content': True}
2025-08-04 02:40:40,208 - App.routers.merge - INFO - Initializing RAG system
2025-08-04 02:40:40,212 - App.RAG.rag_llm - INFO - Initialized with fixed hybrid retrieval system
2025-08-04 02:40:40,213 - App.RAG.rag_llm - INFO - Initialized AdaptiveGeneralLLMDocumentQASystem with performance optimizations and hybrid retrieval
2025-08-04 02:40:40,213 - App.routers.merge - INFO - Loading documents into RAG system
2025-08-04 02:40:40,213 - App.RAG.rag_llm - INFO - Loading 1 documents with performance-optimized processing
2025-08-04 02:40:40,495 - App.RAG.rag_llm - INFO - Optimal parameters determined: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(2124.3482587064677), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:40:40,495 - App.RAG.rag_llm - INFO - Processing documents with performance-optimized parameters
2025-08-04 02:40:40,639 - App.RAG.rag_llm - INFO - Created 957 chunks, building vector store
2025-08-04 02:40:55,300 - App.RAG.rag_llm - INFO - Building sparse (BM25) retriever
2025-08-04 02:40:55,376 - App.RAG.rag_llm - INFO - Configuring ensemble retriever with hybrid retrieval
2025-08-04 02:40:55,377 - App.RAG.rag_llm - INFO - Successfully loaded documents in 15.16 seconds with parameters: {'chunk_size': 1200, 'chunk_overlap': 200, 'retriever_k': 6, 'score_threshold': 0.4, 'content_characteristics': {'avg_paragraph_length': np.float64(2124.3482587064677), 'has_technical_content': True, 'table_density': np.float64(0.0)}}
2025-08-04 02:40:55,377 - App.routers.merge - INFO - Processing 10 questions
2025-08-04 02:40:55,379 - App.RAG.rag_llm - INFO - Processing batch of 10 questions with performance optimization
2025-08-04 02:40:57,127 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, "If the government takes my land for a project, can I stop it?":', '1.  **Does the law allow me to prevent the government from seizing my property for public use?** (This version is more formal and legalistic.)', '2.  **What legal recourse do I have if the government wants to acquire my land for a development project?** (This version focuses on available legal options.)', "3.  **Is there anything I can do to fight the government if they try to take my land for a project they're planning?** (This version is more informal and emphasizes resistance.)", "4.  **Under what circumstances, if any, can I successfully challenge the government's attempt to take my property for a public project?** (This version is more specific and seeks to understand the conditions for a successful challenge.)", '5.  **If the government initiates eminent domain proceedings against my property, am I powerless to prevent the taking?** (This version uses the legal term "eminent domain" and frames the question in terms of powerlessness.)']
2025-08-04 02:40:57,168 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **Legally speaking, what type of legal action would be initiated if my car were to be stolen?** (This version is more formal and focuses on the legal process.)', '2.  **If someone steals my car, under what area of law would that crime fall?** (This version focuses on the specific area of law involved.)', "3.  **My car's been stolen! What kind of legal case is that considered?** (This version is more informal and direct.)", '4.  **In the event of my car being stolen, what legal classification would that incident receive?** (This version is more technical and emphasizes classification.)', '5.  **If my car is taken without my permission, what legal category does that fall under?** (This version avoids the word "stolen" and focuses on the act itself.)']
2025-08-04 02:40:57,260 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, "If I am stopped from speaking at a protest, is that against my rights?":', '1.  **Does preventing me from speaking at a protest violate my legal rights?** (This version is more formal and emphasizes the legal aspect.)', '2.  **Am I legally entitled to speak at a protest, or can I be stopped?** (This version presents the question as a choice between two possibilities.)', "3.  **If I'm silenced at a protest, is that a violation of my freedom of speech?** (This version directly links the situation to the concept of freedom of speech.)", "4.  **What legal protections do I have if I'm prevented from expressing myself verbally at a protest?** (This version focuses on the extent of legal protection available.)", "5.  **Assuming I'm at a protest, under what circumstances, if any, can someone legally stop me from speaking?** (This version explores the potential exceptions and limitations to the right to speak.)"]
2025-08-04 02:40:57,348 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, "If I change my religion, can the government stop me?":', "1.  **Does the government have the authority to prevent someone from converting to a different faith?** (This version focuses on the government's power and authority.)", '2.  **Am I legally permitted to switch religions without government interference?** (This version emphasizes legal rights and potential obstacles.)', '3.  **What legal recourse do I have if the government tries to prevent me from changing my religious beliefs?** (This version focuses on potential legal action and protection.)', '4.  **Is religious conversion a protected right, or can the government regulate or prohibit it?** (This version frames the question in terms of protected rights versus government regulation.)', "5.  **Under what circumstances, if any, could the government legally restrict someone's ability to change their religion?** (This version explores potential exceptions or limitations to religious freedom.)"]
2025-08-04 02:40:57,373 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', "1.  **Does a religious institution's refusal to admit women violate the constitutional principle of equal protection under the law?** (This version focuses on the legal principle at stake.)", '2.  **Assuming a religious site bars female entry, does that action align with or contradict the U.S. Constitution?** (This version is more neutral and asks for a comparison.)', '3.  **If a religious organization denies me access solely based on my gender, does the Constitution offer any protection against that discrimination?** (This version is more personal and focuses on potential constitutional protections.)', "4.  **Is it constitutionally permissible for a religious establishment to enforce a policy that restricts women's access?** (This version is more formal and uses legal terminology.)", "5.  **Considering the First Amendment's guarantee of religious freedom, where does the Constitution draw the line when a religious practice involves gender-based exclusion from a place of worship?** (This version highlights the tension between religious freedom and potential discrimination.)"]
2025-08-04 02:40:57,377 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "If my child is forced to work in a factory, is that legal?", each phrased uniquely:', '1.  **Under what circumstances, if any, would it be permissible for my child to be compelled to work in a factory setting?** (This is more formal and seeks a broader understanding of the legal context.)', '2.  **My child is being made to work in a factory. Does the law allow this?** (This is more direct and focuses on the specific situation.)', '3.  **Is it against the law for a factory to require my child to work there against their will?** (This emphasizes the involuntary nature of the work.)', '4.  **What are the legal protections for children regarding factory labor? Could my child being forced to work in a factory be a violation of those protections?** (This focuses on child labor laws and potential violations.)', '5.  **Assuming my child is being coerced into factory work, what legal recourse do I have? Is this considered child labor and therefore illegal?** (This focuses on potential legal action and connects the situation to the concept of child labor.)']
2025-08-04 02:40:57,467 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, "If someone denies me a job because of my caste, is that allowed?":', '1.  **Legally speaking, can an employer reject my job application based solely on my caste?** (This version focuses on the legal aspect and uses more formal language.)', '2.  **Is it legal for a company to discriminate against me in hiring due to my caste affiliation?** (This version uses the term "discriminate" and "affiliation" for a more direct and potentially accusatory tone.)', "3.  **If I'm not hired for a job because of my caste, does that violate any laws or regulations?** (This version is more general and asks about potential legal violations without explicitly stating illegality.)", '4.  **Am I protected by law against being denied employment opportunities due to my caste?** (This version focuses on the protection offered by the law to the individual.)', "5.  **Does the law permit employers to use caste as a factor in making hiring decisions?** (This version is more direct and focuses on the employer's perspective and the legality of their actions.)"]
2025-08-04 02:40:57,524 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question "If I am arrested without a warrant, is that legal?":', "1.  **Under what circumstances can the police arrest me if they don't have a warrant?** (This focuses on the conditions that might make it legal.)", '2.  **Is it always necessary for law enforcement to have a warrant before making an arrest, or are there exceptions?** (This highlights the possibility of exceptions to the warrant requirement.)', "3.  **What are my rights if I'm taken into custody by the police and they haven't shown me a warrant?** (This focuses on the individual's rights in the situation.)", '4.  **Can a police officer legally arrest someone on the spot, without first obtaining a warrant from a judge?** (This uses more informal language and emphasizes the immediacy of the arrest.)', "5.  **Assuming I haven't committed a crime in plain sight, is a warrant required for my arrest to be considered lawful?** (This introduces a specific scenario and asks about the warrant requirement in that context.)"]
2025-08-04 02:41:06,483 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **When law enforcement resorts to torture during interrogation, which fundamental human right is directly contravened?** (This version emphasizes the human rights aspect and uses more formal language.)', '2.  **If a person is subjected to torture while being held by the police, what specific legal protection is being disregarded?** (This version focuses on the legal protection aspect and uses the word "disregarded" to highlight the violation.)', '3.  **What inherent entitlement is stripped away from an individual when police officers inflict torture upon them in custody?** (This version uses more evocative language like "inherent entitlement" and "stripped away" to emphasize the severity of the violation.)', '4.  **A suspect is being held by the police and is subjected to torture. Which basic freedom is being infringed upon in this scenario?** (This version presents a scenario and uses the term "basic freedom" to make the question more accessible.)', '5.  **Beyond the obvious physical harm, what fundamental right is at the core of the injustice when police use torture on a detainee?** (This version acknowledges the physical harm but focuses on the underlying right being violated.)']
2025-08-04 02:41:06,861 - langchain.retrievers.multi_query - INFO - Generated queries: ['Here are 5 different versions of the question, each phrased uniquely:', '1.  **If a public university rejects my application solely due to my background as a member of a disadvantaged community, do I have any recourse or legal options?** (This version is more formal and emphasizes legal options.)', "2.  **Let's say I'm refused entry to a state university because of where I come from – a less privileged community. Is there anything I can do to challenge that decision?** (This version is more conversational and focuses on challenging the decision.)", "3.  **If a public university discriminates against me in the admissions process based on my community's socio-economic status, what avenues are available to me to address this injustice?** (This version highlights the potential discrimination and focuses on addressing the injustice.)", "4.  **Imagine I'm turned down by a state-funded university simply because I'm from a historically marginalized community. Are there any steps I can take to appeal or fight this decision?** (This version uses a hypothetical scenario and focuses on appealing or fighting the decision.)", "5.  **A public university rejected my application, citing my community's disadvantaged background as a factor. What rights do I have, and what actions can I take in response?** (This version is more direct and focuses on rights and actions.)"]
2025-08-04 02:41:17,790 - App.RAG.rag_llm - INFO - Completed batch processing of 10 questions
2025-08-04 02:41:17,790 - App.routers.merge - INFO - Successfully processed request in 43.55 seconds
INFO:     20.244.56.156:36101 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
2025-08-04 02:41:30,772 - App.routers.merge - INFO - Request document URL: https://hackrx.blob.core.windows.net/assets/principia_newton.pdf?sv=2023-01-03&st=2025-07-28T07%3A20%3A32Z&se=2026-07-29T07%3A20%3A00Z&sr=b&sp=r&sig=V5I1QYyigoxeUMbnUKsdEaST99F5%2FDfo7wpKg9XXF5w%3D
2025-08-04 02:42:05,383 - App.routers.merge - INFO - Checking document relevance for pdf file
2025-08-04 02:42:05,720 - App.routers.merge - INFO - Document metadata: {'title': "newton's principia : the mathematical principles of natural philosophy", 'subject': 'newton, isaac, sir, 1642-1727; mechanics -- early works to 1800; celestial mechanics -- early works to 1800', 'keywords': 'https://archive.org/details/newtonspmathema00newtrich', 'creator': 'internet archive', 'producer': 'internet archive pdf 1.4.25; including mupdf and pymupdf/skimage', 'author': 'newton, isaac, sir, 1642-1727; chittenden, n. w. life of sir isaac newton; adee, daniel, ca. 1819-1892. (1846) bkp cu-banc; motte, andrew, d. 1730; hill, theodore preston. early american mathematics books. cu-banc', 'first_page_sample': '', 'page_count': 594, 'file_type': 'pdf'}
2025-08-04 02:42:05,721 - App.routers.merge - INFO - Relevance decision: False - Reason: Relevance score: 0.000 (threshold: 0.05) - Contains irrelevant indicators: mathematics, principia, newton
2025-08-04 02:42:05,721 - App.routers.merge - WARNING - Irrelevant document detected: Relevance score: 0.000 (threshold: 0.05) - Contains irrelevant indicators: mathematics, principia, newton
INFO:     20.244.56.156:36111 - "POST /api/v1/hackrx/run HTTP/1.1" 200 OK
INFO:     20.244.56.156:49861 - "POST /api/v1/hackrx/run HTTP/1.1" 400 Bad Request
INFO:     20.244.56.156:49861 - "POST /api/v1/hackrx/run HTTP/1.1" 400 Bad Request
INFO:     152.59.63.156:5553 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-08-04 02:45:54,706 - App.main - INFO - Shutting down HackRX RAG API...
INFO:     Application shutdown complete.
INFO:     Finished server process [1]
ubuntu@ip-172-31-86-127:~$ 